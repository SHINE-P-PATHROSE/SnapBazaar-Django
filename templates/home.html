{% extends "base.html" %}
{% load static %}
{% block content %}
<style>
    .card {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.card-body {
  display: flex;
  flex-direction: column;
  flex: 1;
}

.card-text {
  margin-bottom: auto;
}
</style>

<!-- ========================= SECTION MAIN ========================= -->
<section class="section-intro py-4">
  <div class="container">
    <div class="intro-banner-wrap">
      <img src="{% static 'images/banners/1.jpg' %}" alt="Main promotional banner" class="img-fluid rounded">
    </div>
  </div> <!-- container // -->
</section>
<!-- ========================= SECTION MAIN END // ========================= -->

<!-- ========================= SECTION POPULAR PRODUCTS ========================= -->
<section class="section-popular-products py-4">
  <div class="container">
    <header class="section-heading d-flex justify-content-between align-items-center mb-4">
      <h3 class="section-title mb-0">Popular Products</h3>
      <a href="{% url 'store' %}" class="btn btn-outline-primary">See All</a>
    </header><!-- section-heading -->

    {% if products %}
    <div class="row">
      {% for product in products %}
      <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
        <div class="card d-flex flex-column border-0 shadow-sm">
          <a href="{{ product.get_url }}" class="img-wrap d-block">
            <img src="{{ product.images.url }}" alt="{{ product.product_name }}" class="card-img-top rounded">
          </a>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title mb-2">
              <a href="{{ product.get_url }}" class="text-dark">{{ product.product_name }}</a>
            </h5>
            <p class="card-text text-muted mb-auto">{{ product.price|floatformat:2 }} USD</p>
            <a href="{{ product.get_url }}" class="btn btn-outline-primary mt-3">View Details</a>
          </div>
        </div>
      </div> <!-- col.// -->
      {% endfor %}
    </div> <!-- row.// -->
    {% else %}
    <div class="alert alert-warning" role="alert">
      No products available at the moment.
    </div>
    {% endif %}
  </div><!-- container // -->
</section>
<!-- ========================= SECTION POPULAR PRODUCTS END // ========================= -->
{% endblock %}

